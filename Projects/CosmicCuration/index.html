<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Curation | Portfolio</title>
    
    <!-- Favicon (Adjust path if needed) -->
    <link rel="icon" type="image/png" href="../../Assets/images/SiteLogo.png">
    
    <!-- Link to your Main CSS (Adjust path if needed) -->
    <link rel="stylesheet" href="../../Assets/css/main.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Segoe+UI&display=swap" rel="stylesheet">
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* Project Specific Styles from your example */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 40px;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .gallery-grid img {
            width: 100%;
            border-radius: 8px;
            transition: transform 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .gallery-grid img:hover {
            transform: scale(1.02);
        }
        .github-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background-color: #24292e;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            margin-top: 20px;
            transition: transform 0.2s;
            text-decoration: none;
        }
        .github-btn:hover {
            transform: translateY(-2px);
            background-color: #2f363d;
        }
        .play-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background-color: #00FFFF; /* Cyan accent */
            color: #000;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 800;
            margin-top: 20px;
            margin-right: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .play-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
        }

        .code-block {
            background-color: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            margin-top: 15px;
            border-left: 4px solid #007bff;
        }

        /* Smoke Animation */
        .smoke-icon {
            display: inline-block;
            position: relative;
            margin-left: 5px;
            bottom: -3px; /* Align icon with text */
        }
        .smoke-puff {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            bottom: 12px;
            left: 100%; /* Move smoke to the tip of the cigarette */
            transform: translateX(-50%);
            animation: smoke 2.5s infinite;
            opacity: 0;
        }
        .smoke-puff:nth-of-type(2) { animation-delay: 0.8s; }
        .smoke-puff:nth-of-type(3) { animation-delay: 1.6s; }

        @keyframes smoke {
            0% { transform: translate(-50%, 0) scale(1); opacity: 0; }
            20% { opacity: 0.7; }
            100% { transform: translate(-50%, -20px) scale(2.5); opacity: 0; }
        }

        /* Ember/Glow effect */
        .ember {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: #ff4500; /* Red-orange color */
            border-radius: 50%;
            bottom: 6px; /* Align vertically with the tip */
            left: 100%; /* Move to the end of the cigarette */
            margin-left: -2px; /* Slight overlap */
            animation: glow 2.5s infinite ease-in-out;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 3px 1px #ff4500; }
            50% { box-shadow: 0 0 6px 2px #ff8c00; }
        }
        
    </style>
</head>
<body>

    <!-- 1. PROJECT NAVIGATION -->
    <nav class="project-navbar">
        <a href="../../index.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to Projects
        </a>
    </nav>

    <!-- 2. PROJECT HERO SECTION -->
    <header class="project-hero">
        <h1>Cosmic Curation: A Scalable Space Shooter</h1>
        <p>A deep dive into applying professional software engineering patterns for a maintainable and performant Unity game.</p>
        
        <!-- Action Buttons -->
        <div style="margin-top: 20px;">
            <a href="https://play.unity.com/en/games/b74e3bf8-ed8c-46db-bca3-659d24c4a510/space-shooter-object-pool" target="_blank" class="play-btn">
                <i class="fas fa-gamepad"></i> Play the Game
            </a>
            <a href="https://github.com/salaar-mirza/Cosmic-Curation" target="_blank" class="github-btn">
                <i class="fab fa-github"></i> View Source Code
            </a>
        </div>

        <div class="project-meta">
            <div class="meta-item">
                <h4>Role</h4>
                <span>Unity Developer</span>
            </div>
            <div class="meta-item">
                <h4>Timeline</h4>
                <span>2 Weeks</span>
            </div>
            <div class="meta-item">
                <h4>Tech Stack</h4>
                <span>Unity (C#), MVC-like, Git</span>
            </div>
            <div class="meta-item">
                <h4>Key Patterns</h4>
                <span>Service Locator, Object Pooling</span>
            </div>
        </div>
    </header>

    <!-- 3. MAIN CONTENT -->
    <main class="project-content">

        <!-- Gameplay Video -->
        <section class="content-block">
            <h2>Gameplay Demo</h2>
            <div class="video-wrapper">
                <iframe src="https://www.youtube.com/embed/14QMSW4gGsQ?vq=hd1080&rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
        </section>

        <!-- Overview -->
        <section class="content-block">
            <h2>Project Overview & Architecture</h2>
            <p>
                This project is a classic 2D top-down space shooter built with a strong emphasis on clean, scalable, and maintainable code. It intentionally avoids both the monolithic "spaghetti code" of rapid prototypes and the over-engineered complexity of unnecessary design patterns. The architecture is a pragmatic "sweet spot" that prioritizes performance and long-term maintainability.
            </p>
            <p>
                The core structure is built on two pillars: an <strong>MVC-like pattern</strong> for game entities and a <strong>Service Locator</strong> for managing systems.
            </p>
            <ul>
                <li><strong>Model (Data):</strong> <code>ScriptableObjects</code> hold all entity stats (health, speed, etc.), decoupling game balance from code.</li>
                <li><strong>View (Presentation):</strong> "Dumb" <code>MonoBehaviour</code> classes are only responsible for visuals and forwarding Unity events.</li>
                <li><strong>Controller (Logic):</strong> All game logic resides in pure C# classes, making it independent of the Unity scene hierarchy.</li>
            </ul>
            <div style="margin-top: 30px;">
                <a href="../../Assets/images/CosmicCuration/ClassesDiagram.png" target="_blank" title="Click to view full size">
                    <img src="../../Assets/images/CosmicCuration/ClassesDiagram.png" alt="System Architecture UML Diagram" style="width: 100%; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                </a>
                <p style="text-align: center; color: #666; font-size: 0.9rem; margin-top: 10px;"><em>System Architecture UML Diagram (Click to Enlarge)</em></p>
            </div>
        </section>

        <!-- Key Feature: Object Pooling -->
        <section class="content-block">
            <h2>Key Feature: High-Performance Object Pooling</h2>
            <p>
                To avoid performance spikes from frequent <code>Instantiate()</code> and <code>Destroy()</code> calls, the project uses a robust object pooling system for bullets, enemies, and VFX. When an object is "destroyed," it is simply deactivated and returned to its pool, ready to be reused. This ensures smooth, garbage-collection-free gameplay.
            </p>
        </section>

        <!-- Key Feature: Coroutines -->
        <section class="content-block">
            <h2>Key Feature: Robust Asynchronous Logic</h2>
            <p>
                Initially, <code>async/await</code> with <code>Task.Delay</code> was used for time-based logic like weapon fire rates. However, this proved problematic in WebGL builds and ignored Unity's <code>Time.timeScale</code>, breaking pause functionality. The code was refactored to use Unity's native <strong>Coroutines</strong>, which are tightly integrated with the engine's game loop and provide reliable, platform-agnostic behavior.
            </p>
        </section>

        <!-- Key Feature: Decoupling -->
        <section class="content-block">
            <h2>Key Feature: Decoupling with Interfaces</h2>
            <p>
                To create a decoupled combat system, the <code>IDamageable</code> interface is used. This allows any entity (Player, Enemy) to be damaged without the bullet needing to know its specific type, adhering to the Dependency Inversion Principle.
            </p>
        </section>

        <!-- Gallery -->
        <section class="content-block">
            <h2>Project Gallery</h2>
            <div class="gallery-grid">
                <img src="../../Assets/images/CosmicCuration/GameOver.png" alt="Cosmic Curation Game Over Screen">
                <img src="../../Assets/images/CosmicCuration/Gameplay.png" alt="Cosmic Curation Gameplay">
            </div>
        </section>

    </main>

    <!-- 4. FOOTER -->
    <footer>
        <p>&copy; <span id="year"></span> Salaar Mirza. Built with clean code &<span class="smoke-icon"><i class="fas fa-smoking"></i><span class="ember"></span><span class="smoke-puff"></span><span class="smoke-puff"></span><span class="smoke-puff"></span></span></p>
    </footer>

    <!-- Script to update year automatically -->
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>

    <!-- Floating Back Button (Adjust href) -->
    <a href="../../index.html" class="floating-back-btn" title="Back to Projects">
        <i class="fas fa-arrow-left"></i>
    </a>

    <!-- Script to toggle floating button on scroll -->
    <script>
        const fab = document.querySelector('.floating-back-btn');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                fab.classList.add('visible');
            } else {
                fab.classList.remove('visible');
            }
        });
    </script>

    <!-- Scripts for Theme Consistency (Adjust paths if needed) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="../../Assets/js/main.js"></script>
</body>
</html>